import{B as Oe}from"./Button-Bmjem-ox.js";import{B as Ae}from"./BlockTitle-C7NSNddH.js";import{S as Ve}from"./Index-DkaKPSWq.js";import{E as Te}from"./Empty-B7gLxX4w.js";import{L as je}from"./LineChart-CKh1Fdep.js";import{e as Le}from"./vega-embed.module-BcmOCFl0.js";import"./index-BYvoOQkn.js";import"./svelte/svelte.js";import"./Info-BLnc1uh3.js";import"./dsv-DB8NKgIY.js";const{SvelteComponent:Be,append:Ee,assign:Ie,attr:ye,binding_callbacks:Ne,check_outros:me,create_component:q,destroy_component:D,detach:C,element:xe,empty:ke,flush:_,get_spread_object:qe,get_spread_update:De,group_outros:de,init:Me,insert:W,mount_component:M,noop:ge,safe_not_equal:Re,set_data:we,space:te,text:ve,transition_in:y,transition_out:F}=window.__gradio__svelte__internal,{onMount:Ue}=window.__gradio__svelte__internal;function he(n){let e,t;const i=[{autoscroll:n[2].autoscroll},{i18n:n[2].i18n},n[10]];let a={};for(let r=0;r<i.length;r+=1)a=Ie(a,i[r]);return e=new Ve({props:a}),e.$on("clear_status",n[36]),{c(){q(e.$$.fragment)},m(r,f){M(e,r,f),t=!0},p(r,f){const s=f[0]&1028?De(i,[f[0]&4&&{autoscroll:r[2].autoscroll},f[0]&4&&{i18n:r[2].i18n},f[0]&1024&&qe(r[10])]):{};e.$set(s)},i(r){t||(y(e.$$.fragment,r),t=!0)},o(r){F(e.$$.fragment,r),t=!1},d(r){D(e,r)}}}function He(n){let e;return{c(){e=ve(n[3])},m(t,i){W(t,e,i)},p(t,i){i[0]&8&&we(e,t[3])},d(t){t&&C(e)}}}function Xe(n){let e,t;return e=new Te({props:{unpadded_box:!0,$$slots:{default:[Ge]},$$scope:{ctx:n}}}),{c(){q(e.$$.fragment)},m(i,a){M(e,i,a),t=!0},p(i,a){const r={};a[1]&1048576&&(r.$$scope={dirty:a,ctx:i}),e.$set(r)},i(i){t||(y(e.$$.fragment,i),t=!0)},o(i){F(e.$$.fragment,i),t=!1},d(i){D(e,i)}}}function Ye(n){let e,t=n[1]&&be(n);return{c(){t&&t.c(),e=ke()},m(i,a){t&&t.m(i,a),W(i,e,a)},p(i,a){i[1]?t?t.p(i,a):(t=be(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ge,o:ge,d(i){i&&C(e),t&&t.d(i)}}}function Ge(n){let e,t;return e=new je({}),{c(){q(e.$$.fragment)},m(i,a){M(e,i,a),t=!0},i(i){t||(y(e.$$.fragment,i),t=!0)},o(i){F(e.$$.fragment,i),t=!1},d(i){D(e,i)}}}function be(n){let e,t;return{c(){e=xe("p"),t=ve(n[1]),ye(e,"class","caption svelte-10k9m4v")},m(i,a){W(i,e,a),Ee(e,t)},p(i,a){a[0]&2&&we(t,i[1])},d(i){i&&C(e)}}}function Je(n){let e,t,i,a,r,f,s,m,d,o=n[10]&&he(n);t=new Ae({props:{show_label:n[7],info:void 0,$$slots:{default:[He]},$$scope:{ctx:n}}});const T=[Ye,Xe],g=[];function O(u,c){return u[0]?0:1}return f=O(n),s=g[f]=T[f](n),{c(){o&&o.c(),e=te(),q(t.$$.fragment),i=te(),a=xe("div"),r=te(),s.c(),m=ke(),ye(a,"class","svelte-10k9m4v")},m(u,c){o&&o.m(u,c),W(u,e,c),M(t,u,c),W(u,i,c),W(u,a,c),n[37](a),W(u,r,c),g[f].m(u,c),W(u,m,c),d=!0},p(u,c){u[10]?o?(o.p(u,c),c[0]&1024&&y(o,1)):(o=he(u),o.c(),y(o,1),o.m(e.parentNode,e)):o&&(de(),F(o,1,1,()=>{o=null}),me());const x={};c[0]&128&&(x.show_label=u[7]),c[0]&8|c[1]&1048576&&(x.$$scope={dirty:c,ctx:u}),t.$set(x);let S=f;f=O(u),f===S?g[f].p(u,c):(de(),F(g[S],1,1,()=>{g[S]=null}),me(),s=g[f],s?s.p(u,c):(s=g[f]=T[f](u),s.c()),y(s,1),s.m(m.parentNode,m))},i(u){d||(y(o),y(t.$$.fragment,u),y(s),d=!0)},o(u){F(o),F(t.$$.fragment,u),F(s),d=!1},d(u){u&&(C(e),C(i),C(a),C(r),C(m)),o&&o.d(u),D(t,u),n[37](null),g[f].d(u)}}}function Ke(n){let e,t;return e=new Oe({props:{visible:n[6],elem_id:n[4],elem_classes:n[5],scale:n[8],min_width:n[9],allow_overflow:!1,padding:!0,height:n[11],$$slots:{default:[Je]},$$scope:{ctx:n}}}),{c(){q(e.$$.fragment)},m(i,a){M(e,i,a),t=!0},p(i,a){const r={};a[0]&64&&(r.visible=i[6]),a[0]&16&&(r.elem_id=i[4]),a[0]&32&&(r.elem_classes=i[5]),a[0]&256&&(r.scale=i[8]),a[0]&512&&(r.min_width=i[9]),a[0]&2048&&(r.height=i[11]),a[0]&5263|a[1]&1048576&&(r.$$scope={dirty:a,ctx:i}),e.$set(r)},i(i){t||(y(e.$$.fragment,i),t=!0)},o(i){F(e.$$.fragment,i),t=!1},d(i){D(e,i)}}}function Qe(n,e,t){let i,a,r,f,{value:s}=e,{x:m}=e,{y:d}=e,{color:o=null}=e,{title:T=null}=e,{x_title:g=null}=e,{y_title:O=null}=e,{color_title:u=null}=e,{x_bin:c=null}=e,{y_aggregate:x=void 0}=e,{color_map:S=null}=e,{x_lim:j=null}=e,{y_lim:R=null}=e,{x_label_angle:U=null}=e,{y_label_angle:H=null}=e,{caption:le=null}=e,{sort:K=null}=e;function Fe(l){if(l==="x")return"ascending";if(l==="-x")return"descending";if(l==="y")return{field:d,order:"ascending"};if(l==="-y")return{field:d,order:"descending"};if(l===null)return;if(Array.isArray(l))return l}let{_selectable:X=!1}=e,{target:Q}=e,Y,{gradio:E}=e,z,Z=!1;const Se={s:1,m:60,h:60*60,d:24*60*60};let I,L;function ze(l){let k=l.columns.indexOf(m),A=l.columns.indexOf(d),b=o?l.columns.indexOf(o):null;return l.data.map(B=>{const w={[m]:B[k],[d]:B[A]};return o&&b!==null&&(w[o]=B[b]),w})}let h,P=window.getComputedStyle(Q),N,p=!1,ie;function ne(){if(N&&N.finalize(),!s)return;ie=h.offsetWidth;const l=Pe();if(!l)return;let k=new ResizeObserver(()=>{ie===0&&h.offsetWidth!==0&&s.datatypes[m]==="nominal"?ne():N.signal("width",h.offsetWidth).run()});Le(h,l,{actions:!1}).then(function(A){N=A.view,k.observe(h);var b;X&&N.addSignalListener("brush",function(B,w){if(Object.keys(w).length===0)return;clearTimeout(b);let v=w[Object.keys(w)[0]];r&&(v=[v[0]/1e3,v[1]/1e3]),Z?G=()=>{E.dispatch("select",{value:v,index:v,selected:!0})}:b=setTimeout(function(){E.dispatch("select",{value:v,index:v,selected:!0})},250)})})}let G=null;Ue(()=>{t(34,p=!0),h.addEventListener("mousedown",()=>{Z=!0}),h.addEventListener("mouseup",()=>{Z=!1,G&&(G(),G=null)})});function Pe(){if(!s)return null;let l=P.getPropertyValue("--color-accent"),k=P.getPropertyValue("--body-text-color"),A=P.getPropertyValue("--border-color-primary"),b=P.fontFamily,B=P.getPropertyValue("--block-title-text-weight");const w=V=>V.endsWith("px")?parseFloat(V.slice(0,-2)):12;let v=w(P.getPropertyValue("--text-md")),J=w(P.getPropertyValue("--text-sm"));return{$schema:"https://vega.github.io/schema/vega-lite/v5.17.0.json",background:"transparent",config:{autosize:{type:"fit",contains:"padding"},axis:{labelFont:b,labelColor:k,titleFont:b,titleColor:k,titlePadding:8,tickColor:A,labelFontSize:J,gridColor:A,titleFontWeight:"normal",titleFontSize:J,labelFontWeight:"normal",domain:!1,labelAngle:0},legend:{labelColor:k,labelFont:b,titleColor:k,titleFont:b,titleFontWeight:"normal",titleFontSize:J,labelFontWeight:"normal",offset:2},title:{color:k,font:b,fontSize:v,fontWeight:B,anchor:"middle"},view:{stroke:A},mark:{stroke:s.mark!=="bar"?l:void 0,fill:s.mark==="bar"?l:void 0,cursor:"crosshair"}},data:{name:"data"},datasets:{data:Y},layer:["plot",...s.mark==="line"?["hover"]:[]].map(V=>({encoding:{size:s.mark==="line"?V=="plot"?{condition:{empty:!1,param:"hoverPlot",value:3},value:2}:{condition:{empty:!1,param:"hover",value:100},value:0}:void 0,opacity:V==="plot"?void 0:{condition:{empty:!1,param:"hover",value:1},value:0},x:{axis:U?{labelAngle:U}:{},field:m,title:g||m,type:s.datatypes[m],scale:f?{domain:f}:void 0,bin:z?{step:z}:void 0,sort:a},y:{axis:H?{labelAngle:H}:{},field:d,title:O||d,type:s.datatypes[d],scale:R?{domain:R}:void 0,aggregate:L?I:void 0},color:o?{field:o,legend:{orient:"bottom",title:u},scale:s.datatypes[o]==="nominal"?{domain:i,range:S?i.map(ee=>S[ee]):void 0}:{range:[100,200,300,400,500,600,700,800,900].map(ee=>P.getPropertyValue("--primary-"+ee)),interpolate:"hsl"},type:s.datatypes[o]}:void 0,tooltip:[{field:d,type:s.datatypes[d],aggregate:L?I:void 0,title:O||d},{field:m,type:s.datatypes[m],title:g||m,format:r?"%Y-%m-%d %H:%M:%S":void 0,bin:z?{step:z}:void 0},...o?[{field:o,type:s.datatypes[o]}]:[]]},strokeDash:{},mark:{clip:!0,type:V==="hover"?"point":s.mark},name:V})),params:[...s.mark==="line"?[{name:"hoverPlot",select:{clear:"mouseout",fields:o?[o]:[],nearest:!0,on:"mouseover",type:"point"},views:["hover"]},{name:"hover",select:{clear:"mouseout",nearest:!0,on:"mouseover",type:"point"},views:["hover"]}]:[],...X?[{name:"brush",select:{encodings:["x"],mark:{fill:"gray",fillOpacity:.3,stroke:"none"},type:"interval"},views:["plot"]}]:[]],width:h.offsetWidth,title:T||void 0}}let{label:se="Textbox"}=e,{elem_id:ae=""}=e,{elem_classes:re=[]}=e,{visible:oe=!0}=e,{show_label:ue}=e,{scale:_e=null}=e,{min_width:ce=void 0}=e,{loading_status:$=void 0}=e,{height:fe=void 0}=e;const Ce=()=>E.dispatch("clear_status",$);function We(l){Ne[l?"unshift":"push"](()=>{h=l,t(12,h)})}return n.$$set=l=>{"value"in l&&t(0,s=l.value),"x"in l&&t(13,m=l.x),"y"in l&&t(14,d=l.y),"color"in l&&t(15,o=l.color),"title"in l&&t(16,T=l.title),"x_title"in l&&t(17,g=l.x_title),"y_title"in l&&t(18,O=l.y_title),"color_title"in l&&t(19,u=l.color_title),"x_bin"in l&&t(20,c=l.x_bin),"y_aggregate"in l&&t(21,x=l.y_aggregate),"color_map"in l&&t(22,S=l.color_map),"x_lim"in l&&t(23,j=l.x_lim),"y_lim"in l&&t(24,R=l.y_lim),"x_label_angle"in l&&t(25,U=l.x_label_angle),"y_label_angle"in l&&t(26,H=l.y_label_angle),"caption"in l&&t(1,le=l.caption),"sort"in l&&t(27,K=l.sort),"_selectable"in l&&t(28,X=l._selectable),"target"in l&&t(29,Q=l.target),"gradio"in l&&t(2,E=l.gradio),"label"in l&&t(3,se=l.label),"elem_id"in l&&t(4,ae=l.elem_id),"elem_classes"in l&&t(5,re=l.elem_classes),"visible"in l&&t(6,oe=l.visible),"show_label"in l&&t(7,ue=l.show_label),"scale"in l&&t(8,_e=l.scale),"min_width"in l&&t(9,ce=l.min_width),"loading_status"in l&&t(10,$=l.loading_status),"height"in l&&t(11,fe=l.height)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(30,Y=s?ze(s):[]),n.$$.dirty[0]&1073774593&&(i=o&&s&&s.datatypes[o]==="nominal"?Array.from(new Set(Y.map(l=>l[o]))):[]),n.$$.dirty[0]&134217728&&(a=Fe(K)),n.$$.dirty[0]&8193&&t(35,r=s&&s.datatypes[m]==="temporal"),n.$$.dirty[0]&8388608|n.$$.dirty[1]&16&&(f=j&&r?[j[0]*1e3,j[1]*1e3]:j),n.$$.dirty[0]&1048576&&t(31,z=c?typeof c=="string"?1e3*parseInt(c.substring(0,c.length-1))*Se[c[c.length-1]]:c:void 0),n.$$.dirty[0]&2105345|n.$$.dirty[1]&5&&s&&(s.mark==="point"?(t(33,L=z!==void 0),t(32,I=x||L?"sum":void 0)):(t(33,L=z!==void 0||s.datatypes[m]==="nominal"),t(32,I=x||"sum"))),n.$$.dirty[0]&165666819|n.$$.dirty[1]&10&&p&&ne()},[s,le,E,se,ae,re,oe,ue,_e,ce,$,fe,h,m,d,o,T,g,O,u,c,x,S,j,R,U,H,K,X,Q,Y,z,I,L,p,r,Ce,We]}class rt extends Be{constructor(e){super(),Me(this,e,Qe,Ke,Re,{value:0,x:13,y:14,color:15,title:16,x_title:17,y_title:18,color_title:19,x_bin:20,y_aggregate:21,color_map:22,x_lim:23,y_lim:24,x_label_angle:25,y_label_angle:26,caption:1,sort:27,_selectable:28,target:29,gradio:2,label:3,elem_id:4,elem_classes:5,visible:6,show_label:7,scale:8,min_width:9,loading_status:10,height:11},null,[-1,-1])}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),_()}get x(){return this.$$.ctx[13]}set x(e){this.$$set({x:e}),_()}get y(){return this.$$.ctx[14]}set y(e){this.$$set({y:e}),_()}get color(){return this.$$.ctx[15]}set color(e){this.$$set({color:e}),_()}get title(){return this.$$.ctx[16]}set title(e){this.$$set({title:e}),_()}get x_title(){return this.$$.ctx[17]}set x_title(e){this.$$set({x_title:e}),_()}get y_title(){return this.$$.ctx[18]}set y_title(e){this.$$set({y_title:e}),_()}get color_title(){return this.$$.ctx[19]}set color_title(e){this.$$set({color_title:e}),_()}get x_bin(){return this.$$.ctx[20]}set x_bin(e){this.$$set({x_bin:e}),_()}get y_aggregate(){return this.$$.ctx[21]}set y_aggregate(e){this.$$set({y_aggregate:e}),_()}get color_map(){return this.$$.ctx[22]}set color_map(e){this.$$set({color_map:e}),_()}get x_lim(){return this.$$.ctx[23]}set x_lim(e){this.$$set({x_lim:e}),_()}get y_lim(){return this.$$.ctx[24]}set y_lim(e){this.$$set({y_lim:e}),_()}get x_label_angle(){return this.$$.ctx[25]}set x_label_angle(e){this.$$set({x_label_angle:e}),_()}get y_label_angle(){return this.$$.ctx[26]}set y_label_angle(e){this.$$set({y_label_angle:e}),_()}get caption(){return this.$$.ctx[1]}set caption(e){this.$$set({caption:e}),_()}get sort(){return this.$$.ctx[27]}set sort(e){this.$$set({sort:e}),_()}get _selectable(){return this.$$.ctx[28]}set _selectable(e){this.$$set({_selectable:e}),_()}get target(){return this.$$.ctx[29]}set target(e){this.$$set({target:e}),_()}get gradio(){return this.$$.ctx[2]}set gradio(e){this.$$set({gradio:e}),_()}get label(){return this.$$.ctx[3]}set label(e){this.$$set({label:e}),_()}get elem_id(){return this.$$.ctx[4]}set elem_id(e){this.$$set({elem_id:e}),_()}get elem_classes(){return this.$$.ctx[5]}set elem_classes(e){this.$$set({elem_classes:e}),_()}get visible(){return this.$$.ctx[6]}set visible(e){this.$$set({visible:e}),_()}get show_label(){return this.$$.ctx[7]}set show_label(e){this.$$set({show_label:e}),_()}get scale(){return this.$$.ctx[8]}set scale(e){this.$$set({scale:e}),_()}get min_width(){return this.$$.ctx[9]}set min_width(e){this.$$set({min_width:e}),_()}get loading_status(){return this.$$.ctx[10]}set loading_status(e){this.$$set({loading_status:e}),_()}get height(){return this.$$.ctx[11]}set height(e){this.$$set({height:e}),_()}}export{rt as default};
//# sourceMappingURL=Index-CITftr8V.js.map
